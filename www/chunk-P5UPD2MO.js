import{c as R,d as T,e as V,f as L,g as B,h as q,i as A,j as D,n as N,p as j,r as F,s as W,v as H}from"./chunk-WUV5SW3F.js";import"./chunk-DIHLP5UT.js";import"./chunk-QUJFQN2Y.js";import"./chunk-752AMQC2.js";import"./chunk-KY3ZOK5L.js";import"./chunk-UL4ZXJNQ.js";import"./chunk-BYMGTA2M.js";import"./chunk-ILJEAOKW.js";import"./chunk-G3I5WOHV.js";import"./chunk-IVMVF6EF.js";import"./chunk-UTLOKT7G.js";import"./chunk-BT34F2QL.js";import"./chunk-CKP3SGE2.js";import"./chunk-JSDYQX7X.js";import"./chunk-WE76C7G6.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import{d as I}from"./chunk-WGTQWLAQ.js";import"./chunk-DYSLJEHU.js";import{U as S,X as k,ca as z,f as E}from"./chunk-POXW6PNM.js";import{Ea as _,Ia as M,Ma as h,Sb as w,Wa as p,Wb as y,Xa as n,Ya as e,Za as l,bb as x,ca as m,cb as f,da as u,db as g,ob as t,pb as b,sb as C,tb as P,ub as O,za as c}from"./chunk-RWTM4V4Q.js";import"./chunk-PVZEEXOI.js";import"./chunk-3LEZ4XSK.js";import"./chunk-MY5Q2BI6.js";import"./chunk-PLBLC5EF.js";import"./chunk-WESY2VG5.js";import"./chunk-M2X7KQLB.js";import"./chunk-2F44PKVT.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{f as v}from"./chunk-D7YYRZS5.js";function G(o,s){o&1&&(n(0,"p",16),t(1," Digite seu email e enviaremos um link para redefinir sua senha. "),e())}function J(o,s){o&1&&(n(0,"p",16),t(1," Email enviado! Verifique sua caixa de entrada e spam. "),e())}function K(o,s){if(o&1&&(n(0,"div",26),l(1,"ion-icon",27),n(2,"span"),t(3),e()()),o&2){let i=g(2);c(3),b(i.errorMessage)}}function Q(o,s){o&1&&l(0,"ion-spinner",28)}function U(o,s){o&1&&(n(0,"span"),t(1,"Enviar Link de Recupera\xE7\xE3o"),e())}function X(o,s){o&1&&(n(0,"span"),t(1,"Enviando..."),e())}function Y(o,s){if(o&1){let i=x();n(0,"div",17)(1,"div",18)(2,"ion-item",19),l(3,"ion-icon",20),n(4,"ion-input",21),O("ngModelChange",function(a){m(i);let d=g();return P(d.email,a)||(d.email=a),u(a)}),f("ionInput",function(){m(i);let a=g();return u(a.onEmailChange())}),e()()(),h(5,K,4,1,"div",22),n(6,"ion-button",23),f("click",function(){m(i);let a=g();return u(a.enviarRecuperacao())}),h(7,Q,1,0,"ion-spinner",24)(8,U,2,0,"span",25)(9,X,2,0,"span",25),e()()}if(o&2){let i=g();c(4),C("ngModel",i.email),p("disabled",i.isLoading),c(),p("ngIf",i.errorMessage),c(),p("disabled",i.isLoading||!i.email),c(),p("ngIf",i.isLoading),c(),p("ngIf",!i.isLoading),c(),p("ngIf",i.isLoading)}}function Z(o,s){if(o&1){let i=x();n(0,"div",29)(1,"div",30),l(2,"ion-icon",31),e(),n(3,"div",32)(4,"h2"),t(5,"Email Enviado!"),e(),n(6,"p"),t(7),e()(),n(8,"div",33)(9,"h3"),t(10,"Pr\xF3ximos passos:"),e(),n(11,"ol")(12,"li"),t(13,"Verifique sua caixa de entrada"),e(),n(14,"li"),t(15,"Clique no link do email"),e(),n(16,"li"),t(17,"Defina uma nova senha"),e(),n(18,"li"),t(19,"Fa\xE7a login com a nova senha"),e()()(),n(20,"div",34)(21,"ion-button",35),f("click",function(){m(i);let a=g();return u(a.reenviarEmail())}),l(22,"ion-icon",36),t(23," Reenviar Email "),e(),n(24,"ion-button",37),f("click",function(){m(i);let a=g();return u(a.voltarLogin())}),l(25,"ion-icon",38),t(26," Voltar ao Login "),e()()()}if(o&2){let i=g();c(7),b(i.successMessage),c(14),p("disabled",i.isLoading)}}var ln=(()=>{let s=class s{constructor(r,a){this.authService=r,this.router=a,this.email="",this.isLoading=!1,this.emailSent=!1,this.errorMessage="",this.successMessage=""}ngOnInit(){}enviarRecuperacao(){return v(this,null,function*(){if(!this.email){this.showError("Por favor, digite seu email.");return}if(!this.isValidEmail(this.email)){this.showError("Por favor, digite um email v\xE1lido.");return}this.isLoading=!0,this.errorMessage="",this.successMessage="";try{yield this.authService.sendPasswordResetEmail(this.email),this.emailSent=!0,this.successMessage="Email de recupera\xE7\xE3o enviado com sucesso! Verifique sua caixa de entrada."}catch(r){switch(console.error("Erro ao enviar email de recupera\xE7\xE3o:",r),r.code){case"auth/user-not-found":this.showError("N\xE3o foi encontrada uma conta com este email.");break;case"auth/invalid-email":this.showError("Email inv\xE1lido.");break;case"auth/too-many-requests":this.showError("Muitas tentativas. Tente novamente mais tarde.");break;default:this.showError("Erro ao enviar email de recupera\xE7\xE3o. Tente novamente.")}}finally{this.isLoading=!1}})}reenviarEmail(){return v(this,null,function*(){this.emailSent&&(yield this.enviarRecuperacao())})}voltarLogin(){this.router.navigate(["/login"])}isValidEmail(r){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)}showError(r){this.errorMessage=r,setTimeout(()=>{this.errorMessage=""},5e3)}onEmailChange(){this.errorMessage="",this.successMessage=""}};s.\u0275fac=function(a){return new(a||s)(_(I),_(E))},s.\u0275cmp=M({type:s,selectors:[["app-recuperar-senha"]],decls:35,vars:6,consts:[[3,"translucent"],["slot","start"],["defaultHref","/login"],[1,"ion-padding",3,"fullscreen"],[1,"page-container"],[1,"header-section"],[1,"logo-container"],["src","assets/icon/logo.png","alt","Agrana Logo",1,"logo"],[1,"page-title"],["class","page-subtitle",4,"ngIf"],["class","form-section",4,"ngIf"],["class","success-section",4,"ngIf"],[1,"help-section"],[1,"contact-support"],["fill","clear","size","small",3,"click"],["name","help-circle-outline","slot","start"],[1,"page-subtitle"],[1,"form-section"],[1,"input-group"],["lines","none",1,"custom-input"],["name","mail-outline","slot","start"],["type","email","placeholder","Digite seu email",3,"ngModelChange","ionInput","ngModel","disabled"],["class","error-message",4,"ngIf"],["expand","block","fill","solid",1,"send-btn",3,"click","disabled"],["name","circular",4,"ngIf"],[4,"ngIf"],[1,"error-message"],["name","alert-circle-outline"],["name","circular"],[1,"success-section"],[1,"success-icon"],["name","checkmark-circle-outline"],[1,"success-message"],[1,"instructions"],[1,"action-buttons"],["expand","block","fill","outline",1,"resend-btn",3,"click","disabled"],["name","refresh-outline","slot","start"],["expand","block","fill","solid",1,"back-btn",3,"click"],["name","arrow-back-outline","slot","start"]],template:function(a,d){a&1&&(n(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),t(3,"Recuperar Senha"),e(),n(4,"ion-buttons",1),l(5,"ion-back-button",2),e()()(),n(6,"ion-content",3)(7,"div",4)(8,"div",5)(9,"div",6),l(10,"img",7),e(),n(11,"h1",8),t(12,"Recuperar Senha"),e(),h(13,G,2,0,"p",9)(14,J,2,0,"p",9),e(),h(15,Y,10,7,"div",10)(16,Z,27,2,"div",11),n(17,"div",12)(18,"h3"),t(19,"N\xE3o recebeu o email?"),e(),n(20,"ul")(21,"li"),t(22,"Verifique sua pasta de spam"),e(),n(23,"li"),t(24,"Confirme se o email est\xE1 correto"),e(),n(25,"li"),t(26,"Aguarde alguns minutos"),e(),n(27,"li"),t(28,"Tente reenviar o email"),e()(),n(29,"div",13)(30,"p"),t(31,"Ainda com problemas?"),e(),n(32,"ion-button",14),f("click",function(){return d.router.navigate(["/ajuda-suporte"])}),l(33,"ion-icon",15),t(34," Entre em contato "),e()()()()()),a&2&&(p("translucent",!0),c(6),p("fullscreen",!0),c(7),p("ngIf",!d.emailSent),c(),p("ngIf",d.emailSent),c(),p("ngIf",!d.emailSent),c(),p("ngIf",d.emailSent))},dependencies:[H,T,V,L,B,q,A,D,N,j,F,R,W,y,w,z,S,k],styles:["[_ngcontent-%COMP%]:root{--ion-color-primary: rgb(244, 162, 97);--ion-color-primary-rgb: 244,162,97;--ion-color-primary-contrast: #000000;--ion-color-primary-contrast-rgb: 0,0,0;--ion-color-primary-shade: #d78f55;--ion-color-primary-tint: #f5ab71;--ion-color-secondary: #64A5B0;--ion-color-secondary-rgb: 100,165,176;--ion-color-secondary-contrast: #ffffff;--ion-color-secondary-contrast-rgb: 255,255,255;--ion-color-secondary-shade: #58919b;--ion-color-secondary-tint: #74aeb8;--ion-color-tertiary: #9B7D65;--ion-color-tertiary-rgb: 155,125,101;--ion-color-tertiary-contrast: #000000;--ion-color-tertiary-contrast-rgb: 0,0,0;--ion-color-tertiary-shade: #886e59;--ion-color-tertiary-tint: #a58a74;--ion-color-success: #2ab74f;--ion-color-success-rgb: 42,183,79;--ion-color-success-contrast: #000000;--ion-color-success-contrast-rgb: 0,0,0;--ion-color-success-shade: #25a146;--ion-color-success-tint: #3fbe61;--ion-color-warning: #caa016;--ion-color-warning-rgb: 202,160,22;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0,0,0;--ion-color-warning-shade: #b28d13;--ion-color-warning-tint: #cfaa2d;--ion-color-danger: #c5000f;--ion-color-danger-rgb: 197,0,15;--ion-color-danger-contrast: #c7c7c7;--ion-color-danger-contrast-rgb: 255,255,255;--ion-color-danger-shade: #ad000d;--ion-color-danger-tint: #cb1a27;--ion-color-light: #f6f8fc;--ion-color-light-rgb: 246,248,252;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0,0,0;--ion-color-light-shade: #d8dade;--ion-color-light-tint: #f7f9fc;--ion-color-medium: #5f5f5f;--ion-color-medium-rgb: 95,95,95;--ion-color-medium-contrast: #ffffff;--ion-color-medium-contrast-rgb: 255,255,255;--ion-color-medium-shade: #545454;--ion-color-medium-tint: #6f6f6f;--ion-color-dark: #2f2f2f;--ion-color-dark-rgb: 47,47,47;--ion-color-dark-contrast: #ffffff;--ion-color-dark-contrast-rgb: 255,255,255;--ion-color-dark-shade: #292929;--ion-color-dark-tint: #444444;--app-color-purple: #6c5ce7;--app-color-purple-light: #a29bfe;--app-color-purple-dark: #5f4fcf;--app-color-blue: #74b9ff;--app-color-blue-light: #81ecec;--app-color-green: #00b894;--app-color-green-light: #55efc4;--app-spacing-xs: 8px;--app-spacing-sm: 16px;--app-spacing-md: 24px;--app-spacing-lg: 32px;--app-spacing-xl: 40px;--app-spacing-xxl: 60px;--app-font-size-xs: 12px;--app-font-size-sm: 14px;--app-font-size-md: 16px;--app-font-size-lg: 24px;--app-font-size-xl: 28px;--app-font-size-xxl: 32px;--app-border-radius-sm: 8px;--app-border-radius-md: 12px;--app-border-radius-lg: 16px;--app-shadow-sm: 0 2px 8px rgba(0, 0, 0, .1);--app-shadow-md: 0 4px 16px rgba(0, 0, 0, .1);--app-shadow-lg: 0 8px 32px rgba(0, 0, 0, .15);--app-shadow-card: 0 4px 20px rgba(0, 0, 0, .08);--app-shadow-modal: 0 10px 40px rgba(0, 0, 0, .2);--app-gradient-header: linear-gradient(180deg, #ffffff 0%, #f8f9fa 100%);--app-gradient-green: linear-gradient(135deg, var(--app-color-green) 0%, var(--app-color-green-light) 100%);--app-gradient-purple: linear-gradient(135deg, var(--app-color-purple) 0%, var(--app-color-purple-light) 100%)}.app-container[_ngcontent-%COMP%]{padding:0 var(--app-spacing-md)}.app-section-spacing[_ngcontent-%COMP%]{margin-bottom:var(--app-spacing-xl)}.app-text-center[_ngcontent-%COMP%]{text-align:center}.app-card[_ngcontent-%COMP%]{background:var(--ion-color-light);border-radius:var(--app-border-radius-lg);box-shadow:var(--app-shadow-md);overflow:hidden}.app-highlight-purple[_ngcontent-%COMP%]{color:var(--ion-color-primary)}.app-highlight-blue[_ngcontent-%COMP%]{color:var(--ion-color-secondary)}.app-text-white[_ngcontent-%COMP%]{color:#fff}.app-text-muted[_ngcontent-%COMP%]{color:var(--ion-color-medium);opacity:.7}.page-container[_ngcontent-%COMP%]{padding:0 var(--app-spacing-md);max-width:480px;margin:0 auto;padding:var(--app-spacing-md);display:flex;flex-direction:column;min-height:calc(100vh - 60px)}@media (max-width: 768px){.page-container[_ngcontent-%COMP%]{padding:var(--app-spacing-sm)}}.header-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:var(--app-spacing-xxl)}.header-section[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{margin-bottom:var(--app-spacing-lg)}.header-section[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:clamp(60px,15vw,80px);height:clamp(60px,15vw,80px);object-fit:contain}.header-section[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:var(--app-font-size-xxl);font-weight:700;line-height:1.2;margin:0;color:var(--ion-color-dark);font-size:clamp(var(--app-font-size-xl),4vw,var(--app-font-size-xxl));color:var(--ion-color-primary);margin-bottom:var(--app-spacing-md)}.header-section[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{font-size:var(--app-font-size-md);line-height:1.5;font-size:clamp(var(--app-font-size-md),2.5vw,var(--app-font-size-lg));color:var(--ion-color-medium);line-height:1.6;margin:0}.form-section[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%]{margin-bottom:var(--app-spacing-lg)}.custom-input[_ngcontent-%COMP%]{--background: var(--ion-color-light);--border-radius: var(--app-border-radius-md);--padding-start: var(--app-spacing-md);--padding-end: var(--app-spacing-md);box-shadow:var(--app-shadow-sm);margin-bottom:var(--app-spacing-md)}.custom-input[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary);margin-right:var(--app-spacing-sm);font-size:var(--app-font-size-lg)}.custom-input[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--color: var(--ion-color-dark);font-size:var(--app-font-size-md)}.custom-input[_ngcontent-%COMP%]   ion-input[disabled][_ngcontent-%COMP%]{--color: var(--ion-color-medium);opacity:.7}.error-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--app-spacing-xs);color:var(--ion-color-danger);background:rgba(var(--ion-color-danger-rgb),.1);padding:var(--app-spacing-sm) var(--app-spacing-md);border-radius:var(--app-border-radius-sm);margin-bottom:var(--app-spacing-md);font-size:var(--app-font-size-sm)}.error-message[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:var(--app-font-size-md);flex-shrink:0}.send-btn[_ngcontent-%COMP%]{--background: var(--ion-color-primary);--background-hover: var(--ion-color-primary-shade);--border-radius: var(--app-border-radius-md);--box-shadow: var(--app-shadow-md);height:56px;font-size:var(--app-font-size-md);font-weight:600;margin-top:var(--app-spacing-md)}.send-btn[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{margin-right:var(--app-spacing-xs)}.success-section[_ngcontent-%COMP%]{text-align:center}.success-section[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%]{margin-bottom:var(--app-spacing-lg)}.success-section[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:clamp(64px,15vw,80px);color:var(--ion-color-success)}.success-section[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%]{margin-bottom:var(--app-spacing-xl)}.success-section[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--ion-color-success);font-size:clamp(var(--app-font-size-lg),3.5vw,var(--app-font-size-xl));font-weight:600;margin-bottom:var(--app-spacing-sm)}.success-section[_ngcontent-%COMP%]   .success-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium);font-size:var(--app-font-size-md);line-height:1.5;margin:0}.success-section[_ngcontent-%COMP%]   .instructions[_ngcontent-%COMP%]{background:var(--ion-color-light);border-radius:var(--app-border-radius-md);padding:var(--app-spacing-lg);margin-bottom:var(--app-spacing-xl);text-align:left;box-shadow:var(--app-shadow-sm)}.success-section[_ngcontent-%COMP%]   .instructions[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-size:var(--app-font-size-lg);font-weight:600;margin-bottom:var(--app-spacing-md)}.success-section[_ngcontent-%COMP%]   .instructions[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin:0;padding-left:var(--app-spacing-lg)}.success-section[_ngcontent-%COMP%]   .instructions[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:var(--ion-color-dark);font-size:var(--app-font-size-md);line-height:1.6;margin-bottom:var(--app-spacing-xs)}.success-section[_ngcontent-%COMP%]   .instructions[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.action-buttons[_ngcontent-%COMP%]   .resend-btn[_ngcontent-%COMP%]{--border-radius: var(--app-border-radius-md);--color: var(--ion-color-primary);--border-color: var(--ion-color-primary);height:48px;font-weight:600;margin-bottom:var(--app-spacing-md)}.action-buttons[_ngcontent-%COMP%]   .resend-btn[_ngcontent-%COMP%]:hover:not([disabled]){--background: rgba(var(--ion-color-primary-rgb), .1)}.action-buttons[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{--background: var(--ion-color-primary);--background-hover: var(--ion-color-primary-shade);--border-radius: var(--app-border-radius-md);--box-shadow: var(--app-shadow-md);height:56px;font-size:var(--app-font-size-md);font-weight:600}.help-section[_ngcontent-%COMP%]{background:var(--ion-color-light-shade);border-radius:var(--app-border-radius-md);padding:var(--app-spacing-lg);margin-top:var(--app-spacing-xl)}.help-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-size:var(--app-font-size-lg);font-weight:600;margin-bottom:var(--app-spacing-md)}.help-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0 0 var(--app-spacing-lg) 0;padding-left:var(--app-spacing-lg)}.help-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:var(--ion-color-dark);font-size:var(--app-font-size-md);line-height:1.5;margin-bottom:var(--app-spacing-xs)}.help-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.help-section[_ngcontent-%COMP%]   .contact-support[_ngcontent-%COMP%]{text-align:center;border-top:1px solid var(--ion-color-light-tint);padding-top:var(--app-spacing-md)}.help-section[_ngcontent-%COMP%]   .contact-support[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium);font-size:var(--app-font-size-sm);margin-bottom:var(--app-spacing-xs)}.help-section[_ngcontent-%COMP%]   .contact-support[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--color: var(--ion-color-primary);font-size:var(--app-font-size-sm)}ion-content[_ngcontent-%COMP%]{--background: var(--ion-color-light)}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: linear-gradient(135deg, var(--ion-color-primary) 0%, var(--ion-color-secondary) 100%);--color: white}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{font-size:var(--app-font-size-xxl);font-weight:700;line-height:1.2;margin:0;color:var(--ion-color-dark);color:#fff;font-size:clamp(var(--app-font-size-lg),2.5vw,var(--app-font-size-xl))}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-back-button[_ngcontent-%COMP%]{--color: white}@media (max-width: 480px){.page-container[_ngcontent-%COMP%]{padding:var(--app-spacing-xs)}.header-section[_ngcontent-%COMP%]{margin-bottom:var(--app-spacing-lg)}.success-section[_ngcontent-%COMP%]   .instructions[_ngcontent-%COMP%], .help-section[_ngcontent-%COMP%]{padding:var(--app-spacing-md)}}@media (min-width: 768px){.page-container[_ngcontent-%COMP%]{max-width:600px}}"]});let o=s;return o})();export{ln as RecuperarSenhaPage};
