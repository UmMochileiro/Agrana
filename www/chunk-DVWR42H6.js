import{d as Q}from"./chunk-WGTQWLAQ.js";import"./chunk-DYSLJEHU.js";import{D as G,E as U,G as J,H as K,f as N,h as D,i as W,j as q,l as B,m as R,q as A,r as H}from"./chunk-TWRIYKO7.js";import{$ as j,U as I,V as L,W as E,X as T,Y as V,ca as F,f as z,g as S}from"./chunk-POXW6PNM.js";import"./chunk-AOQX2OQG.js";import{Ea as g,Ia as M,Ma as w,Sb as k,Wa as d,Wb as x,Xa as o,Ya as e,Za as f,bb as P,ca as u,cb as O,da as h,kb as y,ob as i,sb as b,tb as v,ub as C,za as l}from"./chunk-RWTM4V4Q.js";import"./chunk-PVZEEXOI.js";import"./chunk-3LEZ4XSK.js";import"./chunk-MY5Q2BI6.js";import"./chunk-PLBLC5EF.js";import"./chunk-WESY2VG5.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-2F44PKVT.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{f as m}from"./chunk-D7YYRZS5.js";function X(s,r){s&1&&(o(0,"span"),i(1,"Entrar"),e())}function Y(s,r){s&1&&(o(0,"span"),i(1,"Entrando..."),e())}var gn=(()=>{let r=class r{constructor(t,a,n,c){this.authService=t,this.router=a,this.toastController=n,this.menuController=c,this.email="",this.password="",this.isLoading=!1}ngOnInit(){this.menuController.enable(!1)}ngOnDestroy(){this.menuController.enable(!0)}login(){return m(this,null,function*(){if(!this.email||!this.password){this.showToast("Por favor, preencha todos os campos","warning");return}this.isLoading=!0;try{yield this.authService.login(this.email,this.password),this.showToast("Login realizado com sucesso!","success"),this.router.navigate(["/dashboard"])}catch(t){console.error("Login error:",t),this.showToast(this.getErrorMessage(t.code),"danger")}finally{this.isLoading=!1}})}register(){return m(this,null,function*(){if(!this.email||!this.password){this.showToast("Por favor, preencha todos os campos","warning");return}this.isLoading=!0;try{yield this.authService.register(this.email,this.password),this.showToast("Conta criada com sucesso!","success"),this.router.navigate(["/dashboard"])}catch(t){console.error("Register error:",t),this.showToast(this.getErrorMessage(t.code),"danger")}finally{this.isLoading=!1}})}showToast(t,a){return m(this,null,function*(){(yield this.toastController.create({message:t,duration:3e3,color:a,position:"top"})).present()})}getErrorMessage(t){switch(t){case"auth/user-not-found":return"Usu\xE1rio n\xE3o encontrado";case"auth/wrong-password":return"Senha incorreta";case"auth/email-already-in-use":return"Email j\xE1 est\xE1 em uso";case"auth/weak-password":return"Senha deve ter pelo menos 6 caracteres";case"auth/invalid-email":return"Email inv\xE1lido";default:return"Erro de autentica\xE7\xE3o. Tente novamente."}}};r.\u0275fac=function(a){return new(a||r)(g(Q),g(z),g(U),g(G))},r.\u0275cmp=M({type:r,selectors:[["app-login"]],decls:34,vars:8,consts:[["loginForm","ngForm"],["menu-close","",1,"ion-padding",3,"fullscreen"],[1,"login-container"],[1,"logo-container"],["src","assets/icon/icon.png","alt","Agrana Logo",1,"logo"],[3,"ngSubmit"],["position","stacked"],["type","email","name","email","required","","placeholder","Digite seu email",3,"ngModelChange","ngModel","disabled"],["type","password","name","password","required","","placeholder","Digite sua senha",3,"ngModelChange","ngModel","disabled"],[1,"button-container"],["expand","block","type","submit","color","secondary",3,"disabled"],[4,"ngIf"],["expand","block","fill","outline","routerLink","/register","color","primary"],[1,"forgot-password"],["fill","clear","size","small","routerLink","/recuperar-senha","color","medium"],["name","key-outline","slot","start"],[1,"back-to-home"],["fill","clear","size","small","routerLink","/inicio","color","medium"]],template:function(a,n){if(a&1){let c=P();o(0,"ion-content",1)(1,"div",2)(2,"div",3),f(3,"img",4),o(4,"h1"),i(5,"Bem-vindo ao Agrana"),e()(),o(6,"ion-card")(7,"ion-card-header")(8,"ion-card-title"),i(9,"Fa\xE7a seu Login"),e()(),o(10,"ion-card-content")(11,"form",5,0),O("ngSubmit",function(){return u(c),h(n.login())}),o(13,"ion-item")(14,"ion-label",6),i(15,"Email"),e(),o(16,"ion-input",7),C("ngModelChange",function(p){return u(c),v(n.email,p)||(n.email=p),h(p)}),e()(),o(17,"ion-item")(18,"ion-label",6),i(19,"Senha"),e(),o(20,"ion-input",8),C("ngModelChange",function(p){return u(c),v(n.password,p)||(n.password=p),h(p)}),e()(),o(21,"div",9)(22,"ion-button",10),w(23,X,2,0,"span",11)(24,Y,2,0,"span",11),e(),o(25,"ion-button",12),i(26," Criar Conta "),e()()(),o(27,"div",13)(28,"ion-button",14),f(29,"ion-icon",15),i(30," Esqueceu sua senha? "),e()(),o(31,"div",16)(32,"ion-button",17),i(33," Voltar ao In\xEDcio "),e()()()()()()}if(a&2){let c=y(12);d("fullscreen",!0),l(16),b("ngModel",n.email),d("disabled",n.isLoading),l(4),b("ngModel",n.password),d("disabled",n.isLoading),l(2),d("disabled",n.isLoading||!c.valid),l(),d("ngIf",!n.isLoading),l(),d("ngIf",n.isLoading)}},dependencies:[R,A,H,K,N,D,W,q,B,J,x,k,F,V,I,L,j,T,E,S],styles:[".app-container[_ngcontent-%COMP%]{padding:0 var(--app-spacing-md)}.app-section-spacing[_ngcontent-%COMP%]{margin-bottom:var(--app-spacing-xl)}.app-text-center[_ngcontent-%COMP%]{text-align:center}.app-card[_ngcontent-%COMP%]{background:var(--ion-color-light);border-radius:var(--app-border-radius-lg);box-shadow:var(--app-shadow-md);overflow:hidden}.app-highlight-purple[_ngcontent-%COMP%]{color:var(--ion-color-primary)}.app-highlight-blue[_ngcontent-%COMP%]{color:var(--ion-color-secondary)}.app-text-white[_ngcontent-%COMP%]{color:#fff}.app-text-muted[_ngcontent-%COMP%]{color:var(--ion-color-medium);opacity:.7}.login-container[_ngcontent-%COMP%]{padding:0 var(--app-spacing-md);text-align:center;display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;background:var(--app-gradient-header)}.logo-container[_ngcontent-%COMP%]{margin-bottom:var(--app-spacing-xl)}.logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:120px;height:120px;object-fit:contain;margin-bottom:var(--app-spacing-md);background:transparent}.logo-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:var(--app-font-size-lg);font-weight:700;color:var(--ion-color-primary);margin:0;letter-spacing:-.5px;font-size:var(--app-font-size-xl)}ion-content[_ngcontent-%COMP%]{--background: var(--ion-color-light);border:none!important;outline:none!important}ion-card[_ngcontent-%COMP%]{background:var(--ion-color-light);border-radius:var(--app-border-radius-lg);box-shadow:var(--app-shadow-md);overflow:hidden;width:100%;max-width:400px;margin:0;border:none!important;outline:none!important}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{text-align:center;padding-bottom:0}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:var(--app-font-size-xxl);font-weight:700;line-height:1.2;margin:0;color:var(--ion-color-dark);font-size:var(--app-font-size-lg)}ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:var(--app-spacing-lg)}ion-item[_ngcontent-%COMP%]{margin-bottom:var(--app-spacing-md);--border-radius: var(--app-border-radius-md);--background: white;--border-color: transparent;--inner-border-width: 0;--border-width: 0;box-shadow:var(--app-shadow-sm);overflow:hidden}ion-item.item[_ngcontent-%COMP%]{--background: white !important;background:#fff!important}ion-item[_ngcontent-%COMP%]::part(native){border:none!important;background:#fff!important}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500;color:var(--ion-color-dark);font-size:var(--app-font-size-sm);margin-bottom:4px}ion-input[_ngcontent-%COMP%]{--color: var(--ion-color-dark);font-size:var(--app-font-size-md)}ion-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#fff!important;color:var(--ion-color-dark)!important;border:none!important;outline:none!important;font-size:var(--app-font-size-md)!important;font-family:inherit!important}ion-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill, ion-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:hover, ion-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:focus, ion-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill:active{-webkit-box-shadow:0 0 0 30px white inset!important;-webkit-text-fill-color:var(--ion-color-dark)!important;border-radius:var(--app-border-radius-md)!important;transition:background-color 5000s ease-in-out 0s!important}ion-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-moz-autofill{background-color:#fff!important;color:var(--ion-color-dark)!important;border-radius:var(--app-border-radius-md)!important}ion-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--ion-color-medium)!important;font-size:var(--app-font-size-md)!important;opacity:.7!important}ion-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{background-color:#fff!important;color:var(--ion-color-dark)!important;border:none!important;outline:none!important;box-shadow:none!important}.button-container[_ngcontent-%COMP%]{margin-top:var(--app-spacing-lg)}.button-container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--background: var(--ion-color-primary);--background-hover: var(--ion-color-primary-shade);--border-radius: var(--app-border-radius-md);--box-shadow: var(--app-shadow-md);height:56px;font-size:var(--app-font-size-md);font-weight:600;margin-bottom:var(--app-spacing-sm)}.button-container[_ngcontent-%COMP%]   ion-button[fill=outline][_ngcontent-%COMP%]{--background: transparent;--color: var(--ion-color-secondary);--border-color: var(--ion-color-secondary);--background-hover: var(--ion-color-secondary);--color-hover: white}.button-container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:last-child{margin-bottom:0}.back-to-home[_ngcontent-%COMP%]{text-align:center;margin-top:var(--app-spacing-lg)}.back-to-home[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--color: var(--ion-color-medium);font-size:var(--app-font-size-sm)}.forgot-password[_ngcontent-%COMP%]{text-align:center;margin:var(--app-spacing-md) 0;padding:var(--app-spacing-sm) 0;border-top:1px solid var(--ion-color-light-shade);border-bottom:1px solid var(--ion-color-light-shade)}.forgot-password[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--color: var(--ion-color-medium);font-size:var(--app-font-size-sm);font-weight:500}.forgot-password[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:hover{--color: var(--ion-color-primary)}.forgot-password[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:var(--app-font-size-md);margin-right:var(--app-spacing-xs)}@media (max-width: 480px){.login-container[_ngcontent-%COMP%]{padding:var(--app-spacing-sm)}.logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:100px;height:100px}ion-card[_ngcontent-%COMP%]{margin:0 var(--app-spacing-xs)}ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:var(--app-spacing-md)}.button-container[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{height:44px;font-size:var(--app-font-size-sm)}}"]});let s=r;return s})();export{gn as LoginPage};
